/*! user
*
* build at 2025-10-03
*/
import*as e from"/public/libs/webmodule/pagehelper.mjs";const t=new $fgta5.Application("mainapp");var o={moduleName:"user",app:t,urlDir:"public/modules/user",Crsl:new $fgta5.SectionCarousell(t.Nodes.Main),Sections:{userHeaderList:"userHeaderList-section",userHeaderEdit:"userHeaderEdit-section",userLoginList:"userLoginList-section",userLoginEdit:"userLoginEdit-section",userPropList:"userPropList-section",userPropEdit:"userPropEdit-section",userGroupList:"userGroupList-section",userGroupEdit:"userGroupEdit-section",userFavouriteList:"userFavouriteList-section",userFavouriteEdit:"userFavouriteEdit-section"}};async function n(e,t){const o=e.Modules.userHeaderEdit.getHeaderForm();o.addEventListener("locked",e=>{document.getElementById("btn_resetpassword").classList.add("hidden")}),o.addEventListener("unlocked",e=>{document.getElementById("btn_resetpassword").classList.remove("hidden")});const n=o.Inputs["userHeaderEdit-obj_user_password"];{const e=document.body,t=document.querySelector('template[name="dialog-change-password"]');if(null!=t){const o=t.content.cloneNode(!0);e.prepend(o)}}setTimeout(()=>{const e=document.getElementById("myDialog"),t=document.getElementById("btnChangePassword"),o=document.getElementById("btnCancel"),a=document.getElementById("newPassword"),i=document.getElementById("userHeaderEdit-obj_user_password-container"),s=document.createElement("a");s.setAttribute("id","btn_resetpassword"),s.setAttribute("href","javascript:void(0)"),s.innerHTML="reset password",s.classList.add("hidden"),s.addEventListener("click",t=>{a.value="",e.showModal()}),t.addEventListener("click",t=>{const o=a.value.trim();""!=o?(!async function(e,t,o){try{const e={password:o},n=await Module.apiCall("/profile/encrypt-password",e);t.value=n}catch(e){$fgta5.MessageBox.error(e.message)}}(0,n,o),e.close()):$fgta5.MessageBox.warning("password tidak boleh kosong")}),o.addEventListener("click",t=>{e.close()}),i.appendChild(s)},1e3)}var a=Object.freeze({__proto__:null,init:n});const i=o.Crsl,s=o.Sections.userHeaderList,r=i.Items[s],d={},c=new $fgta5.Gridview("userHeaderList-tbl"),l=document.getElementById("userHeaderList-pnl_search"),u=new $fgta5.ActionButton("userHeaderList-btn_gridload"),f=r,g={};async function w(e,t){c.addEventListener("nextdata",async t=>{!async function(e,t){const o=t.detail.criteria,n=t.detail.limit,a=t.detail.nextoffset,i=t.detail.sort;await L(e,{criteria:o,limit:n,offset:a,sort:i}),c.scrollToFooter()}(e,t)}),c.addEventListener("sorting",async t=>{!function(e,t){c.clear();const o=t.detail.sort,n=t.detail.Criteria;L(e,{criteria:n,sort:o})}(e,t)});const o=a.headerList_addTableEvents;"function"==typeof o&&o(e,c),Module.isMobileDevice()?c.addEventListener("cellclick",async t=>{E(e,t)}):c.addEventListener("celldblclick",async t=>{E(e,t)}),u.addEventListener("click",async t=>{!function(e){p(e,null),y(e)}(e)});try{const t=document.querySelector('template[name="custom-search-panel"]');if(null!=t){const e=t.content.cloneNode(!0);l.prepend(e)}const o=l.querySelectorAll("[fgta5-component][binding]");for(var n of o){var i=n.getAttribute("id"),s=n.getAttribute("fgta5-component"),r=n.getAttribute("binding");g[r]=new $fgta5[s](i)}const d=a["headerList_initSearchParams"];"function"==typeof d&&d(e,g)}catch(e){throw e}finally{!0===t.autoLoadGridData&&y(e)}}async function y(e){await c.clear(),L(e)}function m(e,t){const o=d.SelectedRow;o.previousElementSibling?t.disablePrevButton(e,!1):t.disablePrevButton(e,!0),o.nextElementSibling?t.disableNextButton(e,!1):t.disableNextButton(e,!0)}function p(e,t){d.SelectedRow=t}async function b(e,t){const o=t.getAttribute("keyvalue"),n=t.getAttribute("key"),a=e.Modules.userHeaderEdit;a.clearForm(e,"loading...");try{p(0,t),d.SelectedRow.keyValue=o,d.SelectedRow.key=n,await a.openSelectedData(e,{key:n,keyvalue:o})}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message),p(0,null),r.show()}m(e,a)}function E(e,t){const o=t.detail.tr;e.Modules.userHeaderEdit.Section.show({},t=>{b(e,o)})}async function L(e,t={}){const{criteria:n={},limit:a=0,offset:i=0,sort:s={}}=t;for(var r in g){if(!g[r].validate())return console.error("ada yang belum diisi"),!1;n[r]=g[r].value}void 0===s&&(s=c.getSort());let d=$fgta5.Modal.createMask();try{const e=await async function(e,t,n,a,i){const s=`/${o.moduleName}/header-list`;try{const e=[];return await Module.apiCall(s,{columns:e,criteria:t,offset:n,limit:a,sort:i})}catch(e){throw e}}(0,n,i,a,s);0===i&&c.clear(),c.addRows(e.data),c.setNext(e.nextoffset,e.limit)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{d.close(),d=null}}var v=Object.freeze({__proto__:null,SearchParams:g,Section:f,addNewRow:function(e,t){p(e,c.addRow(t))},getCurrentRow:function(e){return d.SelectedRow},init:w,loadData:y,removeCurrentRow:function(e){d.SelectedRow.remove()},selectNextRow:function(e){const t=d.SelectedRow;t.nextElementSibling&&b(e,t.nextElementSibling)},selectPreviousRow:function(e){const t=d.SelectedRow;t.previousElementSibling&&b(e,t.previousElementSibling)},setPagingButton:m,updateCurrentRow:function(e,t){const o=d.SelectedRow;try{c.updateRow(o,t)}catch(e){throw e}}});const h={},M=o.Crsl,_=o.Sections.userHeaderEdit,k=M.Items[_],B=o.Source,S="New User",$="View User",I="Edit User",C="Edit",R="Lock",x=new $fgta5.ActionButton("userHeaderEdit-btn_edit"),N=new $fgta5.ActionButton("userHeaderEdit-btn_save"),F=new $fgta5.ActionButton("userHeaderEdit-btn_new","userHeader-new"),A=new $fgta5.ActionButton("userHeaderEdit-btn_delete"),D=new $fgta5.ActionButton("userHeaderEdit-btn_reset"),P=new $fgta5.ActionButton("userHeaderEdit-btn_prev"),T=new $fgta5.ActionButton("userHeaderEdit-btn_next"),H=document.getElementById("userHeader-btn_recordstatus"),O=document.getElementById("userHeader-btn_logs"),G=document.getElementById("userHeader-btn_about"),U=new $fgta5.Form("userHeaderEdit-frm");U.Inputs["userHeaderEdit-obj_user_id"],U.Inputs["userHeaderEdit-obj_user_name"],U.Inputs["userHeaderEdit-obj_user_nickname"],U.Inputs["userHeaderEdit-obj_user_fullname"],U.Inputs["userHeaderEdit-obj_user_email"],U.Inputs["userHeaderEdit-obj_user_password"],U.Inputs["userHeaderEdit-obj_user_isdisabled"];const j=document.getElementById("fRecord-section-createby"),K=document.getElementById("fRecord-section-createdate"),V=document.getElementById("fRecord-section-modifyby"),z=document.getElementById("fRecord-section-modifydate"),W=k;async function q(t,n){k.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{!async function(){let e=!1;if(U.isChanged()){"ok"==await $fgta5.MessageBox.confirm(Module.BACK_CONFIRM)&&(U.reset(),e=!0)}else e=!0;if(e){U.lock();const e=o.Sections.userHeaderList;M.Items[e].show({direction:1})}}()}),U.addEventListener("locked",e=>{!async function(e){k.Title=$,x.setText(C),x.disabled=!1,N.disabled=!0,F.disabled=!1,A.disabled=!0,D.disabled=!0,P.disabled=!1,T.disabled=!1,h.editDisabled&&(x.disabled=!0);e.Modules.userLoginList.headerLocked(e),e.Modules.userLoginEdit.headerLocked(e),e.Modules.userPropList.headerLocked(e),e.Modules.userPropEdit.headerLocked(e),e.Modules.userGroupList.headerLocked(e),e.Modules.userGroupEdit.headerLocked(e),e.Modules.userFavouriteList.headerLocked(e),e.Modules.userFavouriteEdit.headerLocked(e)}(t)}),U.addEventListener("unlocked",e=>{!async function(e){U.isNew()?k.Title=S:k.Title=I;x.setText(R),x.disabled=!1,N.disabled=!1,F.disabled=!0,A.disabled=!1,D.disabled=!1,P.disabled=!0,T.disabled=!0,e.Modules.userLoginList.headerUnlocked(e),e.Modules.userLoginEdit.headerUnlocked(e),e.Modules.userPropList.headerUnlocked(e),e.Modules.userPropEdit.headerUnlocked(e),e.Modules.userGroupList.headerUnlocked(e),e.Modules.userGroupEdit.headerUnlocked(e),e.Modules.userFavouriteList.headerUnlocked(e),e.Modules.userFavouriteEdit.headerUnlocked(e)}(t)}),U.render(),x.addEventListener("click",e=>{!async function(){if(U.isLocked())U.lock(!1);else{if(U.isChanged()||U.isNew())return void await $fgta5.MessageBox.warning(Module.EDIT_WARNING);U.lock(!0)}}()}),N.addEventListener("click",e=>{!async function(e){if(!U.validate()){const e=U.getLastError();return void $fgta5.MessageBox.warning(e)}let t;const n=U.isNew();if(n)t=U.getData();else{if(!U.isChanged())return;t=U.getDataChanged()}const i=a.userHeaderEdit_dataSaving;"function"==typeof i&&await i(e,t,U);let s=$fgta5.Modal.createMask();try{let i;i=n?await async function(e,t){const n=`/${o.moduleName}/header-create`;try{return await Module.apiCall(n,{data:t,source:B})}catch(e){throw e}}(0,t):await async function(e,t){const n=`/${o.moduleName}/header-update`;try{return await Module.apiCall(n,{data:t,source:B})}catch(e){throw e}}(0,t);const s=U.getPrimaryInput(),r=i[s.getBindingData()],d=await Q(e,r);h.currentOpenedId=r,U.AutoID?s.value=r:X(e,{disabled:!0}),U.setData(d);const c=a["userHeaderEdit_dataSaved"];"function"==typeof c&&await c(e,d,U),U.acceptChanges(),n?(x.disabled=!1,e.Modules.userHeaderList.addNewRow(e,d)):e.Modules.userHeaderList.updateCurrentRow(e,d)}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{s.close(),s=null}}(t)}),F.addEventListener("click",e=>{!async function(e,t){const o=t.target.getAttribute("data-sectionsource"),n=e.Modules.userHeaderList,i=n.Section.Id,s=o===i;if(s)await k.show();else{let e=!1;if(U.isChanged()){"cancel"==await $fgta5.MessageBox.confirm(Module.NEWDATA_CONFIRM)&&(e=!0)}if(e)return}U.AutoID?X(e,{disabled:!0,placeholder:"[AutoID]"}):X(e,{disabled:!1,placeholder:"ID"});try{let t={};const o=a["userHeaderEdit_newData"];"function"==typeof o&&await o(e,t,U),await J(e,t),U.lock(!1),x.disabled=!0,A.disabled=!0}catch(t){console.error(t),await $fgta5.MessageBox.error(t.message),s&&e.Modules.userHeaderList.Section.show()}}(t,e)}),A.addEventListener("click",e=>{!async function(e){if(U.isNew())return;const t=U.getPrimaryInput().value;if("ok"!=await $fgta5.MessageBox.confirm(Module.DELETE_CONFIRM+`id: ${t}`))return;let n=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/header-delete`;try{return await Module.apiCall(n,{id:t,source:B})}catch(e){throw e}}(0,t);e.Modules.userHeaderList.removeCurrentRow(e),e.Modules.userHeaderList.Section.show(),U.lock()}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}}(t)}),D.addEventListener("click",e=>{!async function(){if(U.isNew())J();else if(U.isChanged()){if("ok"!=await $fgta5.MessageBox.confirm(Module.RESET_CONFIRM))return;U.reset()}}()}),P.addEventListener("click",e=>{!async function(e){e.Modules.userHeaderList.selectPreviousRow(e)}(t)}),T.addEventListener("click",e=>{!async function(e){e.Modules.userHeaderList.selectNextRow(e)}(t)}),H.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:k};e.openSection(t,"fRecord-section",n,async()=>{let e=$fgta5.Modal.createMask();try{const e=U.getPrimaryInput().value,o=await Q(t,e);j.innerHTML=o._createby,K.innerHTML=o._createdate,V.innerHTML=o._modifyby,z.innerHTML=o._modifydate;const n=a["userHeaderEdit_addRecordInfo"];"function"==typeof n&&await n(o)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{e.close(),e=null}})}(t)}),O.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:k};e.openSection(t,"fLogs-section",n,async()=>{const t=U.getPrimaryInput().value;let n=$fgta5.Modal.createMask();try{const n=`${o.appsUrls.core.url}/logs/list`,a={module:o.moduleName,table:"core.user",id:t},i=await Module.apiCall(n,{criteria:a}),s=document.getElementById("fLogs-section").querySelector("tbody");e.renderLog(s,i.data)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}})}(t)}),G.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:k};e.openSection(t,"fAbout-section",n,async()=>{})}(t)})}async function J(e,t){try{U.newData(t),U.acceptChanges(),U.setAsNewData()}catch(e){throw e}}async function Q(e,t){const n=`/${o.moduleName}/header-open`;try{return await Module.apiCall(n,{id:t})}catch(e){throw e}}async function X(e,t){const o=U.getPrimaryInput();o.disabled=!0===t.disabled,void 0!==t.placeholder&&(o.placeholder=t.placeholder),void 0!==t.value&&(o.value=t.value)}var Y=Object.freeze({__proto__:null,Section:W,clearForm:function(e,t){U.clear(t)},disableNextButton:function(e,t=!0){T.disabled=t},disablePrevButton:function(e,t=!0){P.disabled=t},getHeaderForm:function(){return U},init:q,openSelectedData:async function(e,t){let o=$fgta5.Modal.createMask();try{const o=t.keyvalue,n=await Q(e,o);h.currentOpenedId=o;const i=a["userHeaderEdit_isEditDisabled"];if("function"==typeof i){const t=i(e,n);h.editDisabled=t}X(e,{disabled:!0}),U.setData(n),U.acceptChanges(),U.lock();const s=a["userHeaderEdit_formOpened"];"function"==typeof s&&s(e,U,h)}catch(e){throw h.currentOpenedId=null,e}finally{o.close(),o=null}}});const Z=o.Crsl,ee=o.Sections.userLoginList,te=Z.Items[ee],oe={},ne=new $fgta5.Gridview("userLoginList-tbl"),ae=document.getElementById("userLoginList-btn_addrow"),ie=new $fgta5.ActionButton("userLoginList-btn_delrow");let se;const re=te;async function de(e,t){te.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{const t=o.Sections.userHeaderEdit;Z.Items[t].show({direction:1})}),ne.addEventListener("nextdata",async t=>{!async function(e,t){const o=t.detail.criteria,n=t.detail.limit,a=t.detail.nextoffset,i=t.detail.sort;await ge(e,{criteria:o,limit:n,offset:a,sort:i}),ne.scrollToFooter()}(e,t)}),ne.addEventListener("sorting",async t=>{!async function(e,t){ne.clear();const o=t.detail.sort,n=t.detail.Criteria;ge(e,{criteria:n,sort:o})}(e,t)});const n=a.loginList_addTableEvents;"function"==typeof n&&n(e,ne),Module.isMobileDevice()?ne.addEventListener("cellclick",async t=>{fe(e,t)}):ne.addEventListener("celldblclick",async t=>{fe(e,t)}),ie.addEventListener("click",e=>{!async function(){const e=ne.getSelected();if(0==e.length)return;if("ok"!=await $fgta5.MessageBox.confirm(`Apakah anda yakin akan menghappus ${e.length} data yang dipilih?`))return;let t=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/login-delete-rows`;try{const e=await Module.apiCall(n,{data:t});if(e.deleted)return!0;throw new Error(e.message)}catch(e){throw e}}(0,e)&&ne.removeSelected()}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{t.close(),t=null}}()});const i=a.userLoginList_init;"function"==typeof i&&i(e),oe.headerFormLocked=!0}function ce(e,t){const o=oe.SelectedRow;o.previousElementSibling?t.disablePrevButton(e,!1):t.disablePrevButton(e,!0),o.nextElementSibling?t.disableNextButton(e,!1):t.disableNextButton(e,!0)}function le(e,t){oe.SelectedRow=t}async function ue(e,t){const o=t.getAttribute("keyvalue"),n=t.getAttribute("key"),a=e.Modules.userLoginEdit;a.clearForm(e,"loading...");try{le(0,t),oe.SelectedRow.keyValue=o,oe.SelectedRow.key=n,await a.openSelectedData(e,{key:n,keyvalue:o})}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message),le(0,null),te.show()}ce(e,a)}async function fe(e,t){const o=t.detail.tr;e.Modules.userLoginEdit.Section.show({},t=>{ue(e,o)})}async function ge(e,t={}){const{criteria:n={},limit:a=0,offset:i=0,sort:s={}}=t;let r=$fgta5.Modal.createMask();try{const e=await async function(e,t,n,a,i){const s=`/${o.moduleName}/login-list`;try{const e=[];return await Module.apiCall(s,{columns:e,criteria:t,offset:n,limit:a,sort:i})}catch(e){throw e}}(0,n,i,a,s);0===i&&ne.clear(),ne.addRows(e.data),ne.setNext(e.nextoffset,e.limit)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{r.close(),r=null}}var we=Object.freeze({__proto__:null,Section:re,addNewRow:function(e,t){le(e,ne.addRow(t))},getCurrentRow:function(e){return oe.SelectedRow},headerLocked:function(e){oe.headerFormLocked=!0},headerUnlocked:function(e){oe.headerFormLocked=!1},init:de,openList:async function(e,t){const o=t.moduleHeaderEdit;se=o.getHeaderForm();const n=se.getPrimaryInput().value,i=a.userLoginList_openList;"function"==typeof i&&i(e,se);const s={user_id:n},r=ne.getSort();ne.clear(),ge(e,{criteria:s,sort:r}),oe.headerFormLocked?(ae.setAttribute("disabled",""),ie.disabled=!0):(ae.removeAttribute("disabled"),ie.disabled=!1)},removeCurrentRow:function(e){oe.SelectedRow.remove()},selectNextRow:function(e){const t=oe.SelectedRow;t.nextElementSibling&&ue(e,t.nextElementSibling)},selectPreviousRow:function(e){const t=oe.SelectedRow;t.previousElementSibling&&ue(e,t.previousElementSibling)},setPagingButton:ce,updateCurrentRow:function(e,t){const o=oe.SelectedRow;try{ne.updateRow(o,t)}catch(e){throw e}}});const ye={},me=o.Crsl,pe=o.Sections.userLoginEdit,be=me.Items[pe],Ee=o.Source,Le="New User",ve="View User",he="Edit User",Me="Edit",_e="Lock",ke=new $fgta5.ActionButton("userLoginEdit-btn_edit"),Be=new $fgta5.ActionButton("userLoginEdit-btn_save"),Se=new $fgta5.ActionButton("userLoginEdit-btn_new","userLogin-addrow"),$e=new $fgta5.ActionButton("userLoginEdit-btn_delete","userLogin-delrow"),Ie=new $fgta5.ActionButton("userLoginEdit-btn_reset"),Ce=new $fgta5.ActionButton("userLoginEdit-btn_prev"),Re=new $fgta5.ActionButton("userLoginEdit-btn_next"),xe=document.getElementById("userLogin-btn_recordstatus"),Ne=document.getElementById("userLogin-btn_logs"),Fe=new $fgta5.Form("userLoginEdit-frm");Fe.Inputs["userLoginEdit-obj_userlogin_id"],Fe.Inputs["userLoginEdit-obj_userlogin_name"],Fe.Inputs["userLoginEdit-obj_user_id"];const Ae=document.getElementById("fRecord-section-createby"),De=document.getElementById("fRecord-section-createdate"),Pe=document.getElementById("fRecord-section-modifyby"),Te=document.getElementById("fRecord-section-modifydate"),He=be;async function Oe(t,n){be.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{!async function(){let e=!1;if(Fe.isChanged()){"ok"==await $fgta5.MessageBox.confirm(Module.BACK_CONFIRM)&&(Fe.reset(),e=!0)}else e=!0;if(e){Fe.lock();const e=o.Sections.userLoginList;me.Items[e].show({direction:1})}}()}),Fe.addEventListener("locked",e=>{!async function(){be.Title=ve,ke.setText(Me),ke.disabled=!1,Be.disabled=!0,Se.disabled=!1,$e.disabled=!0,Ie.disabled=!0,Ce.disabled=!1,Re.disabled=!1,ye.editDisabled&&(ke.disabled=!0,Se.disabled=!0)}()}),Fe.addEventListener("unlocked",e=>{!async function(){Fe.isNew()?be.Title=Le:be.Title=he;ke.setText(_e),ke.disabled=!1,Be.disabled=!1,Se.disabled=!0,$e.disabled=!1,Ie.disabled=!1,Ce.disabled=!0,Re.disabled=!0}()}),Fe.render(),ke.addEventListener("click",e=>{!async function(){if(Fe.isLocked())Fe.lock(!1);else{if(Fe.isChanged()||Fe.isNew())return void await $fgta5.MessageBox.warning(Module.EDIT_WARNING);Fe.lock(!0)}}()}),Be.addEventListener("click",e=>{!async function(e){if(!Fe.validate()){const e=Fe.getLastError();return void $fgta5.MessageBox.warning(e)}let t;const n=Fe.isNew();if(n)t=Fe.getData();else{if(!Fe.isChanged())return;t=Fe.getDataChanged()}const i=a.userLoginEdit_dataSaving;"function"==typeof i&&await i(e,t,Fe);let s=$fgta5.Modal.createMask();try{let i;i=n?await async function(e,t){const n=`/${o.moduleName}/login-create`;try{return await Module.apiCall(n,{data:t,source:Ee})}catch(e){throw e}}(0,t):await async function(e,t){const n=`/${o.moduleName}/login-update`;try{return await Module.apiCall(n,{data:t,source:Ee})}catch(e){throw e}}(0,t);const s=Fe.getPrimaryInput(),r=i[s.getBindingData()],d=await Ue(e,r);ye.currentOpenedId=r,Fe.AutoID?s.value=r:je(e,{disabled:!0}),Fe.setData(d);const c=a["userLoginEdit_dataSaved"];"function"==typeof c&&await c(e,d,Fe),Fe.acceptChanges(),n?(ke.disabled=!1,e.Modules.userLoginList.addNewRow(e,d)):e.Modules.userLoginList.updateCurrentRow(e,d)}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{s.close(),s=null}}(t)}),Se.addEventListener("click",e=>{!async function(e,t){const o=t.target.getAttribute("data-sectionsource"),n=e.Modules.userLoginList,i=n.Section.Id,s=o===i;if(s)be.setSectionReturn(n.Section),await be.show();else{let e=!1;if(Fe.isChanged()){"cancel"==await $fgta5.MessageBox.confirm(Module.NEWDATA_CONFIRM)&&(e=!0)}if(e)return}Fe.AutoID?je(e,{disabled:!0,placeholder:"[AutoID]"}):je(e,{disabled:!1,placeholder:"ID"});try{const t=e.Modules.userHeaderEdit,o=t.getHeaderForm().getPrimaryInput();let n={user_id:o.value};const i=a["userLoginEdit_newData"];"function"==typeof i&&await i(e,n,Fe),await Ge(e,n),Fe.lock(!1),ke.disabled=!0,$e.disabled=!0}catch(t){console.error(t),await $fgta5.MessageBox.error(t.message),s&&e.Modules.userLoginList.Section.show()}}(t,e)}),$e.addEventListener("click",e=>{!async function(e){if(Fe.isNew())return;const t=Fe.getPrimaryInput().value;if("ok"!=await $fgta5.MessageBox.confirm(Module.DELETE_CONFIRM+`id: ${t}`))return;let n=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/login-delete`;try{return await Module.apiCall(n,{id:t,source:Ee})}catch(e){throw e}}(0,t);e.Modules.userLoginList.removeCurrentRow(e),e.Modules.userLoginList.Section.show(),Fe.lock()}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}}(t)}),Ie.addEventListener("click",e=>{!async function(){if(Fe.isNew())Ge();else if(Fe.isChanged()){if("ok"!=await $fgta5.MessageBox.confirm(Module.RESET_CONFIRM))return;Fe.reset()}}()}),Ce.addEventListener("click",e=>{!async function(e){e.Modules.userLoginList.selectPreviousRow(e)}(t)}),Re.addEventListener("click",e=>{!async function(e){e.Modules.userLoginList.selectNextRow(e)}(t)}),xe.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:be};e.openSection(t,"fRecord-section",n,async()=>{let e=$fgta5.Modal.createMask();try{const e=Fe.getPrimaryInput().value,o=await Ue(t,e);Ae.innerHTML=o._createby,De.innerHTML=o._createdate,Pe.innerHTML=o._modifyby,Te.innerHTML=o._modifydate;const n=a["userLoginEdit_addRecordInfo"];"function"==typeof n&&await n(o)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{e.close(),e=null}})}(t)}),Ne.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:be};e.openSection(t,"fLogs-section",n,async()=>{const t=Fe.getPrimaryInput().value;let n=$fgta5.Modal.createMask();try{const n=`${o.appsUrls.core.url}/logs/list`,a={module:o.moduleName,table:"core.userlogin",id:t},i=await Module.apiCall(n,{criteria:a}),s=document.getElementById("fLogs-section").querySelector("tbody");e.renderLog(s,i.data)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}})}(t)}),ye.headerFormLocked=!0,ye.editDisabled=!1}async function Ge(e,t){try{Fe.newData(t),Fe.acceptChanges(),Fe.setAsNewData()}catch(e){throw e}}async function Ue(e,t){const n=`/${o.moduleName}/login-open`;try{return await Module.apiCall(n,{id:t})}catch(e){throw e}}async function je(e,t){const o=Fe.getPrimaryInput();o.disabled=!0===t.disabled,void 0!==t.placeholder&&(o.placeholder=t.placeholder),void 0!==t.value&&(o.value=t.value)}var Ke=Object.freeze({__proto__:null,Section:He,clearForm:function(e,t){Fe.clear(t)},disableNextButton:function(e,t=!0){Re.disabled=t},disablePrevButton:function(e,t=!0){Ce.disabled=t},headerLocked:function(e){ye.headerFormLocked=!0,ye.editDisabled=!0},headerUnlocked:function(e){ye.headerFormLocked=!1,ye.editDisabled=!1},init:Oe,openSelectedData:async function(e,t){let o=$fgta5.Modal.createMask();try{const o=t.keyvalue,n=await Ue(e,o);if(ye.currentOpenedId=o,!ye.headerFormLocked){const t=a["userLoginEdit_isEditDisabled"];if("function"==typeof t){const o=t(e,n);ye.editDisabled=o}}je(e,{disabled:!0}),Fe.setData(n),Fe.acceptChanges(),Fe.lock();const i=a["userLoginEdit_formOpened"];"function"==typeof i&&i(e,Fe,ye)}catch(e){throw ye.currentOpenedId=null,e}finally{o.close(),o=null}}});const Ve=o.Crsl,ze=o.Sections.userPropList,We=Ve.Items[ze],qe={},Je=new $fgta5.Gridview("userPropList-tbl"),Qe=document.getElementById("userPropList-btn_addrow"),Xe=new $fgta5.ActionButton("userPropList-btn_delrow");let Ye;const Ze=We;async function et(e,t){We.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{const t=o.Sections.userHeaderEdit;Ve.Items[t].show({direction:1})}),Je.addEventListener("nextdata",async t=>{!async function(e,t){const o=t.detail.criteria,n=t.detail.limit,a=t.detail.nextoffset,i=t.detail.sort;await it(e,{criteria:o,limit:n,offset:a,sort:i}),Je.scrollToFooter()}(e,t)}),Je.addEventListener("sorting",async t=>{!async function(e,t){Je.clear();const o=t.detail.sort,n=t.detail.Criteria;it(e,{criteria:n,sort:o})}(e,t)});const n=a.propList_addTableEvents;"function"==typeof n&&n(e,Je),Module.isMobileDevice()?Je.addEventListener("cellclick",async t=>{at(e,t)}):Je.addEventListener("celldblclick",async t=>{at(e,t)}),Xe.addEventListener("click",e=>{!async function(){const e=Je.getSelected();if(0==e.length)return;if("ok"!=await $fgta5.MessageBox.confirm(`Apakah anda yakin akan menghappus ${e.length} data yang dipilih?`))return;let t=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/prop-delete-rows`;try{const e=await Module.apiCall(n,{data:t});if(e.deleted)return!0;throw new Error(e.message)}catch(e){throw e}}(0,e)&&Je.removeSelected()}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{t.close(),t=null}}()});const i=a.userPropList_init;"function"==typeof i&&i(e),qe.headerFormLocked=!0}function tt(e,t){const o=qe.SelectedRow;o.previousElementSibling?t.disablePrevButton(e,!1):t.disablePrevButton(e,!0),o.nextElementSibling?t.disableNextButton(e,!1):t.disableNextButton(e,!0)}function ot(e,t){qe.SelectedRow=t}async function nt(e,t){const o=t.getAttribute("keyvalue"),n=t.getAttribute("key"),a=e.Modules.userPropEdit;a.clearForm(e,"loading...");try{ot(0,t),qe.SelectedRow.keyValue=o,qe.SelectedRow.key=n,await a.openSelectedData(e,{key:n,keyvalue:o})}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message),ot(0,null),We.show()}tt(e,a)}async function at(e,t){const o=t.detail.tr;e.Modules.userPropEdit.Section.show({},t=>{nt(e,o)})}async function it(e,t={}){const{criteria:n={},limit:a=0,offset:i=0,sort:s={}}=t;let r=$fgta5.Modal.createMask();try{const e=await async function(e,t,n,a,i){const s=`/${o.moduleName}/prop-list`;try{const e=[];return await Module.apiCall(s,{columns:e,criteria:t,offset:n,limit:a,sort:i})}catch(e){throw e}}(0,n,i,a,s);0===i&&Je.clear(),Je.addRows(e.data),Je.setNext(e.nextoffset,e.limit)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{r.close(),r=null}}var st=Object.freeze({__proto__:null,Section:Ze,addNewRow:function(e,t){ot(e,Je.addRow(t))},getCurrentRow:function(e){return qe.SelectedRow},headerLocked:function(e){qe.headerFormLocked=!0},headerUnlocked:function(e){qe.headerFormLocked=!1},init:et,openList:async function(e,t){const o=t.moduleHeaderEdit;Ye=o.getHeaderForm();const n=Ye.getPrimaryInput().value,i=a.userPropList_openList;"function"==typeof i&&i(e,Ye);const s={user_id:n},r=Je.getSort();Je.clear(),it(e,{criteria:s,sort:r}),qe.headerFormLocked?(Qe.setAttribute("disabled",""),Xe.disabled=!0):(Qe.removeAttribute("disabled"),Xe.disabled=!1)},removeCurrentRow:function(e){qe.SelectedRow.remove()},selectNextRow:function(e){const t=qe.SelectedRow;t.nextElementSibling&&nt(e,t.nextElementSibling)},selectPreviousRow:function(e){const t=qe.SelectedRow;t.previousElementSibling&&nt(e,t.previousElementSibling)},setPagingButton:tt,updateCurrentRow:function(e,t){const o=qe.SelectedRow;try{Je.updateRow(o,t)}catch(e){throw e}}});const rt={},dt=o.Crsl,ct=o.Sections.userPropEdit,lt=dt.Items[ct],ut=o.Source,ft="New User",gt="View User",wt="Edit User",yt="Edit",mt="Lock",pt=new $fgta5.ActionButton("userPropEdit-btn_edit"),bt=new $fgta5.ActionButton("userPropEdit-btn_save"),Et=new $fgta5.ActionButton("userPropEdit-btn_new","userProp-addrow"),Lt=new $fgta5.ActionButton("userPropEdit-btn_delete","userProp-delrow"),vt=new $fgta5.ActionButton("userPropEdit-btn_reset"),ht=new $fgta5.ActionButton("userPropEdit-btn_prev"),Mt=new $fgta5.ActionButton("userPropEdit-btn_next"),_t=document.getElementById("userProp-btn_recordstatus"),kt=document.getElementById("userProp-btn_logs"),Bt=new $fgta5.Form("userPropEdit-frm");Bt.Inputs["userPropEdit-obj_userprop_id"],Bt.Inputs["userPropEdit-obj_userprop_name"],Bt.Inputs["userPropEdit-obj_userprop_value"],Bt.Inputs["userPropEdit-obj_user_id"];const St=document.getElementById("fRecord-section-createby"),$t=document.getElementById("fRecord-section-createdate"),It=document.getElementById("fRecord-section-modifyby"),Ct=document.getElementById("fRecord-section-modifydate"),Rt=lt;async function xt(t,n){lt.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{!async function(){let e=!1;if(Bt.isChanged()){"ok"==await $fgta5.MessageBox.confirm(Module.BACK_CONFIRM)&&(Bt.reset(),e=!0)}else e=!0;if(e){Bt.lock();const e=o.Sections.userPropList;dt.Items[e].show({direction:1})}}()}),Bt.addEventListener("locked",e=>{!async function(){lt.Title=gt,pt.setText(yt),pt.disabled=!1,bt.disabled=!0,Et.disabled=!1,Lt.disabled=!0,vt.disabled=!0,ht.disabled=!1,Mt.disabled=!1,rt.editDisabled&&(pt.disabled=!0,Et.disabled=!0)}()}),Bt.addEventListener("unlocked",e=>{!async function(){Bt.isNew()?lt.Title=ft:lt.Title=wt;pt.setText(mt),pt.disabled=!1,bt.disabled=!1,Et.disabled=!0,Lt.disabled=!1,vt.disabled=!1,ht.disabled=!0,Mt.disabled=!0}()}),Bt.render(),pt.addEventListener("click",e=>{!async function(){if(Bt.isLocked())Bt.lock(!1);else{if(Bt.isChanged()||Bt.isNew())return void await $fgta5.MessageBox.warning(Module.EDIT_WARNING);Bt.lock(!0)}}()}),bt.addEventListener("click",e=>{!async function(e){if(!Bt.validate()){const e=Bt.getLastError();return void $fgta5.MessageBox.warning(e)}let t;const n=Bt.isNew();if(n)t=Bt.getData();else{if(!Bt.isChanged())return;t=Bt.getDataChanged()}const i=a.userPropEdit_dataSaving;"function"==typeof i&&await i(e,t,Bt);let s=$fgta5.Modal.createMask();try{let i;i=n?await async function(e,t){const n=`/${o.moduleName}/prop-create`;try{return await Module.apiCall(n,{data:t,source:ut})}catch(e){throw e}}(0,t):await async function(e,t){const n=`/${o.moduleName}/prop-update`;try{return await Module.apiCall(n,{data:t,source:ut})}catch(e){throw e}}(0,t);const s=Bt.getPrimaryInput(),r=i[s.getBindingData()],d=await Ft(e,r);rt.currentOpenedId=r,Bt.AutoID?s.value=r:At(e,{disabled:!0}),Bt.setData(d);const c=a["userPropEdit_dataSaved"];"function"==typeof c&&await c(e,d,Bt),Bt.acceptChanges(),n?(pt.disabled=!1,e.Modules.userPropList.addNewRow(e,d)):e.Modules.userPropList.updateCurrentRow(e,d)}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{s.close(),s=null}}(t)}),Et.addEventListener("click",e=>{!async function(e,t){const o=t.target.getAttribute("data-sectionsource"),n=e.Modules.userPropList,i=n.Section.Id,s=o===i;if(s)lt.setSectionReturn(n.Section),await lt.show();else{let e=!1;if(Bt.isChanged()){"cancel"==await $fgta5.MessageBox.confirm(Module.NEWDATA_CONFIRM)&&(e=!0)}if(e)return}Bt.AutoID?At(e,{disabled:!0,placeholder:"[AutoID]"}):At(e,{disabled:!1,placeholder:"ID"});try{const t=e.Modules.userHeaderEdit,o=t.getHeaderForm().getPrimaryInput();let n={user_id:o.value};const i=a["userPropEdit_newData"];"function"==typeof i&&await i(e,n,Bt),await Nt(e,n),Bt.lock(!1),pt.disabled=!0,Lt.disabled=!0}catch(t){console.error(t),await $fgta5.MessageBox.error(t.message),s&&e.Modules.userPropList.Section.show()}}(t,e)}),Lt.addEventListener("click",e=>{!async function(e){if(Bt.isNew())return;const t=Bt.getPrimaryInput().value;if("ok"!=await $fgta5.MessageBox.confirm(Module.DELETE_CONFIRM+`id: ${t}`))return;let n=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/prop-delete`;try{return await Module.apiCall(n,{id:t,source:ut})}catch(e){throw e}}(0,t);e.Modules.userPropList.removeCurrentRow(e),e.Modules.userPropList.Section.show(),Bt.lock()}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}}(t)}),vt.addEventListener("click",e=>{!async function(){if(Bt.isNew())Nt();else if(Bt.isChanged()){if("ok"!=await $fgta5.MessageBox.confirm(Module.RESET_CONFIRM))return;Bt.reset()}}()}),ht.addEventListener("click",e=>{!async function(e){e.Modules.userPropList.selectPreviousRow(e)}(t)}),Mt.addEventListener("click",e=>{!async function(e){e.Modules.userPropList.selectNextRow(e)}(t)}),_t.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:lt};e.openSection(t,"fRecord-section",n,async()=>{let e=$fgta5.Modal.createMask();try{const e=Bt.getPrimaryInput().value,o=await Ft(t,e);St.innerHTML=o._createby,$t.innerHTML=o._createdate,It.innerHTML=o._modifyby,Ct.innerHTML=o._modifydate;const n=a["userPropEdit_addRecordInfo"];"function"==typeof n&&await n(o)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{e.close(),e=null}})}(t)}),kt.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:lt};e.openSection(t,"fLogs-section",n,async()=>{const t=Bt.getPrimaryInput().value;let n=$fgta5.Modal.createMask();try{const n=`${o.appsUrls.core.url}/logs/list`,a={module:o.moduleName,table:"core.userprop",id:t},i=await Module.apiCall(n,{criteria:a}),s=document.getElementById("fLogs-section").querySelector("tbody");e.renderLog(s,i.data)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}})}(t)}),rt.headerFormLocked=!0,rt.editDisabled=!1}async function Nt(e,t){try{Bt.newData(t),Bt.acceptChanges(),Bt.setAsNewData()}catch(e){throw e}}async function Ft(e,t){const n=`/${o.moduleName}/prop-open`;try{return await Module.apiCall(n,{id:t})}catch(e){throw e}}async function At(e,t){const o=Bt.getPrimaryInput();o.disabled=!0===t.disabled,void 0!==t.placeholder&&(o.placeholder=t.placeholder),void 0!==t.value&&(o.value=t.value)}var Dt=Object.freeze({__proto__:null,Section:Rt,clearForm:function(e,t){Bt.clear(t)},disableNextButton:function(e,t=!0){Mt.disabled=t},disablePrevButton:function(e,t=!0){ht.disabled=t},headerLocked:function(e){rt.headerFormLocked=!0,rt.editDisabled=!0},headerUnlocked:function(e){rt.headerFormLocked=!1,rt.editDisabled=!1},init:xt,openSelectedData:async function(e,t){let o=$fgta5.Modal.createMask();try{const o=t.keyvalue,n=await Ft(e,o);if(rt.currentOpenedId=o,!rt.headerFormLocked){const t=a["userPropEdit_isEditDisabled"];if("function"==typeof t){const o=t(e,n);rt.editDisabled=o}}At(e,{disabled:!0}),Bt.setData(n),Bt.acceptChanges(),Bt.lock();const i=a["userPropEdit_formOpened"];"function"==typeof i&&i(e,Bt,rt)}catch(e){throw rt.currentOpenedId=null,e}finally{o.close(),o=null}}});const Pt=o.Crsl,Tt=o.Sections.userGroupList,Ht=Pt.Items[Tt],Ot={},Gt=new $fgta5.Gridview("userGroupList-tbl"),Ut=document.getElementById("userGroupList-btn_addrow"),jt=new $fgta5.ActionButton("userGroupList-btn_delrow");let Kt;const Vt=Ht;async function zt(e,t){Ht.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{const t=o.Sections.userHeaderEdit;Pt.Items[t].show({direction:1})}),Gt.addEventListener("nextdata",async t=>{!async function(e,t){const o=t.detail.criteria,n=t.detail.limit,a=t.detail.nextoffset,i=t.detail.sort;await Xt(e,{criteria:o,limit:n,offset:a,sort:i}),Gt.scrollToFooter()}(e,t)}),Gt.addEventListener("sorting",async t=>{!async function(e,t){Gt.clear();const o=t.detail.sort,n=t.detail.Criteria;Xt(e,{criteria:n,sort:o})}(e,t)});const n=a.groupList_addTableEvents;"function"==typeof n&&n(e,Gt),Module.isMobileDevice()?Gt.addEventListener("cellclick",async t=>{Qt(e,t)}):Gt.addEventListener("celldblclick",async t=>{Qt(e,t)}),jt.addEventListener("click",e=>{!async function(){const e=Gt.getSelected();if(0==e.length)return;if("ok"!=await $fgta5.MessageBox.confirm(`Apakah anda yakin akan menghappus ${e.length} data yang dipilih?`))return;let t=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/group-delete-rows`;try{const e=await Module.apiCall(n,{data:t});if(e.deleted)return!0;throw new Error(e.message)}catch(e){throw e}}(0,e)&&Gt.removeSelected()}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{t.close(),t=null}}()});const i=a.userGroupList_init;"function"==typeof i&&i(e),Ot.headerFormLocked=!0}function Wt(e,t){const o=Ot.SelectedRow;o.previousElementSibling?t.disablePrevButton(e,!1):t.disablePrevButton(e,!0),o.nextElementSibling?t.disableNextButton(e,!1):t.disableNextButton(e,!0)}function qt(e,t){Ot.SelectedRow=t}async function Jt(e,t){const o=t.getAttribute("keyvalue"),n=t.getAttribute("key"),a=e.Modules.userGroupEdit;a.clearForm(e,"loading...");try{qt(0,t),Ot.SelectedRow.keyValue=o,Ot.SelectedRow.key=n,await a.openSelectedData(e,{key:n,keyvalue:o})}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message),qt(0,null),Ht.show()}Wt(e,a)}async function Qt(e,t){const o=t.detail.tr;e.Modules.userGroupEdit.Section.show({},t=>{Jt(e,o)})}async function Xt(e,t={}){const{criteria:n={},limit:a=0,offset:i=0,sort:s={}}=t;let r=$fgta5.Modal.createMask();try{const e=await async function(e,t,n,a,i){const s=`/${o.moduleName}/group-list`;try{const e=[];return await Module.apiCall(s,{columns:e,criteria:t,offset:n,limit:a,sort:i})}catch(e){throw e}}(0,n,i,a,s);0===i&&Gt.clear(),Gt.addRows(e.data),Gt.setNext(e.nextoffset,e.limit)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{r.close(),r=null}}var Yt=Object.freeze({__proto__:null,Section:Vt,addNewRow:function(e,t){qt(e,Gt.addRow(t))},getCurrentRow:function(e){return Ot.SelectedRow},headerLocked:function(e){Ot.headerFormLocked=!0},headerUnlocked:function(e){Ot.headerFormLocked=!1},init:zt,openList:async function(e,t){const o=t.moduleHeaderEdit;Kt=o.getHeaderForm();const n=Kt.getPrimaryInput().value,i=a.userGroupList_openList;"function"==typeof i&&i(e,Kt);const s={user_id:n},r=Gt.getSort();Gt.clear(),Xt(e,{criteria:s,sort:r}),Ot.headerFormLocked?(Ut.setAttribute("disabled",""),jt.disabled=!0):(Ut.removeAttribute("disabled"),jt.disabled=!1)},removeCurrentRow:function(e){Ot.SelectedRow.remove()},selectNextRow:function(e){const t=Ot.SelectedRow;t.nextElementSibling&&Jt(e,t.nextElementSibling)},selectPreviousRow:function(e){const t=Ot.SelectedRow;t.previousElementSibling&&Jt(e,t.previousElementSibling)},setPagingButton:Wt,updateCurrentRow:function(e,t){const o=Ot.SelectedRow;try{Gt.updateRow(o,t)}catch(e){throw e}}});const Zt={},eo=o.Crsl,to=o.Sections.userGroupEdit,oo=eo.Items[to],no=o.Source,ao="New User",io="View User",so="Edit User",ro="Edit",co="Lock",lo=new $fgta5.ActionButton("userGroupEdit-btn_edit"),uo=new $fgta5.ActionButton("userGroupEdit-btn_save"),fo=new $fgta5.ActionButton("userGroupEdit-btn_new","userGroup-addrow"),go=new $fgta5.ActionButton("userGroupEdit-btn_delete","userGroup-delrow"),wo=new $fgta5.ActionButton("userGroupEdit-btn_reset"),yo=new $fgta5.ActionButton("userGroupEdit-btn_prev"),mo=new $fgta5.ActionButton("userGroupEdit-btn_next"),po=document.getElementById("userGroup-btn_recordstatus"),bo=document.getElementById("userGroup-btn_logs"),Eo=new $fgta5.Form("userGroupEdit-frm");Eo.Inputs["userGroupEdit-obj_usergroup_id"];const Lo=Eo.Inputs["userGroupEdit-obj_group_id"];Eo.Inputs["userGroupEdit-obj_usergroup_isdisabled"],Eo.Inputs["userGroupEdit-obj_user_id"];const vo=document.getElementById("fRecord-section-createby"),ho=document.getElementById("fRecord-section-createdate"),Mo=document.getElementById("fRecord-section-modifyby"),_o=document.getElementById("fRecord-section-modifydate"),ko=oo;async function Bo(t,n){oo.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{!async function(){let e=!1;if(Eo.isChanged()){"ok"==await $fgta5.MessageBox.confirm(Module.BACK_CONFIRM)&&(Eo.reset(),e=!0)}else e=!0;if(e){Eo.lock();const e=o.Sections.userGroupList;eo.Items[e].show({direction:1})}}()}),Eo.addEventListener("locked",e=>{!async function(){oo.Title=io,lo.setText(ro),lo.disabled=!1,uo.disabled=!0,fo.disabled=!1,go.disabled=!0,wo.disabled=!0,yo.disabled=!1,mo.disabled=!1,Zt.editDisabled&&(lo.disabled=!0,fo.disabled=!0)}()}),Eo.addEventListener("unlocked",e=>{!async function(){Eo.isNew()?oo.Title=ao:oo.Title=so;lo.setText(co),lo.disabled=!1,uo.disabled=!1,fo.disabled=!0,go.disabled=!1,wo.disabled=!1,yo.disabled=!0,mo.disabled=!0}()}),Eo.render(),lo.addEventListener("click",e=>{!async function(){if(Eo.isLocked())Eo.lock(!1);else{if(Eo.isChanged()||Eo.isNew())return void await $fgta5.MessageBox.warning(Module.EDIT_WARNING);Eo.lock(!0)}}()}),uo.addEventListener("click",e=>{!async function(e){if(!Eo.validate()){const e=Eo.getLastError();return void $fgta5.MessageBox.warning(e)}let t;const n=Eo.isNew();if(n)t=Eo.getData();else{if(!Eo.isChanged())return;t=Eo.getDataChanged()}const i=a.userGroupEdit_dataSaving;"function"==typeof i&&await i(e,t,Eo);let s=$fgta5.Modal.createMask();try{let i;i=n?await async function(e,t){const n=`/${o.moduleName}/group-create`;try{return await Module.apiCall(n,{data:t,source:no})}catch(e){throw e}}(0,t):await async function(e,t){const n=`/${o.moduleName}/group-update`;try{return await Module.apiCall(n,{data:t,source:no})}catch(e){throw e}}(0,t);const s=Eo.getPrimaryInput(),r=i[s.getBindingData()],d=await $o(e,r);Zt.currentOpenedId=r,Eo.AutoID?s.value=r:Io(e,{disabled:!0}),Eo.setData(d);const c=a["userGroupEdit_dataSaved"];"function"==typeof c&&await c(e,d,Eo),Eo.acceptChanges(),n?(lo.disabled=!1,e.Modules.userGroupList.addNewRow(e,d)):e.Modules.userGroupList.updateCurrentRow(e,d)}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{s.close(),s=null}}(t)}),fo.addEventListener("click",e=>{!async function(e,t){const o=t.target.getAttribute("data-sectionsource"),n=e.Modules.userGroupList,i=n.Section.Id,s=o===i;if(s)oo.setSectionReturn(n.Section),await oo.show();else{let e=!1;if(Eo.isChanged()){"cancel"==await $fgta5.MessageBox.confirm(Module.NEWDATA_CONFIRM)&&(e=!0)}if(e)return}Eo.AutoID?Io(e,{disabled:!0,placeholder:"[AutoID]"}):Io(e,{disabled:!1,placeholder:"ID"});try{const t=e.Modules.userHeaderEdit,o=t.getHeaderForm().getPrimaryInput();let n={user_id:o.value};const i=a["userGroupEdit_newData"];"function"==typeof i&&await i(e,n,Eo),await So(e,n),Eo.lock(!1),lo.disabled=!0,go.disabled=!0}catch(t){console.error(t),await $fgta5.MessageBox.error(t.message),s&&e.Modules.userGroupList.Section.show()}}(t,e)}),go.addEventListener("click",e=>{!async function(e){if(Eo.isNew())return;const t=Eo.getPrimaryInput().value;if("ok"!=await $fgta5.MessageBox.confirm(Module.DELETE_CONFIRM+`id: ${t}`))return;let n=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/group-delete`;try{return await Module.apiCall(n,{id:t,source:no})}catch(e){throw e}}(0,t);e.Modules.userGroupList.removeCurrentRow(e),e.Modules.userGroupList.Section.show(),Eo.lock()}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}}(t)}),wo.addEventListener("click",e=>{!async function(){if(Eo.isNew())So();else if(Eo.isChanged()){if("ok"!=await $fgta5.MessageBox.confirm(Module.RESET_CONFIRM))return;Eo.reset()}}()}),yo.addEventListener("click",e=>{!async function(e){e.Modules.userGroupList.selectPreviousRow(e)}(t)}),mo.addEventListener("click",e=>{!async function(e){e.Modules.userGroupList.selectNextRow(e)}(t)}),po.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:oo};e.openSection(t,"fRecord-section",n,async()=>{let e=$fgta5.Modal.createMask();try{const e=Eo.getPrimaryInput().value,o=await $o(t,e);vo.innerHTML=o._createby,ho.innerHTML=o._createdate,Mo.innerHTML=o._modifyby,_o.innerHTML=o._modifydate;const n=a["userGroupEdit_addRecordInfo"];"function"==typeof n&&await n(o)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{e.close(),e=null}})}(t)}),bo.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:oo};e.openSection(t,"fLogs-section",n,async()=>{const t=Eo.getPrimaryInput().value;let n=$fgta5.Modal.createMask();try{const n=`${o.appsUrls.core.url}/logs/list`,a={module:o.moduleName,table:"core.usergroup",id:t},i=await Module.apiCall(n,{criteria:a}),s=document.getElementById("fLogs-section").querySelector("tbody");e.renderLog(s,i.data)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}})}(t)}),Zt.headerFormLocked=!0,Zt.editDisabled=!1,Lo.addEventListener("selecting",async e=>{if("function"==typeof fn_obj_group_id_selecting)fn_obj_group_id_selecting(t,Lo,e);else{const i=e.detail.sender,s=e.detail.dialog,r=null!=e.detail.searchtext?e.detail.searchtext:"",d=`${o.appsUrls.core.url}/group/header-list`,c={searchtext:r},l=a["obj_group_id_selecting_criteria"];"function"==typeof fn_selecting_criteria&&l(t,Lo,c),i.wait();try{const t=await Module.apiCall(d,{criteria:c,offset:e.detail.offset,limit:e.detail.limit});for(var n of t.data)e.detail.addRow(n.group_id,n.group_name,n);s.setNext(t.nextoffset,t.limit)}catch(e){$fgta5.MessageBox.error(e.message)}finally{i.wait(!1)}}})}async function So(e,t){try{Eo.newData(t),Eo.acceptChanges(),Eo.setAsNewData()}catch(e){throw e}}async function $o(e,t){const n=`/${o.moduleName}/group-open`;try{return await Module.apiCall(n,{id:t})}catch(e){throw e}}async function Io(e,t){const o=Eo.getPrimaryInput();o.disabled=!0===t.disabled,void 0!==t.placeholder&&(o.placeholder=t.placeholder),void 0!==t.value&&(o.value=t.value)}var Co=Object.freeze({__proto__:null,Section:ko,clearForm:function(e,t){Eo.clear(t)},disableNextButton:function(e,t=!0){mo.disabled=t},disablePrevButton:function(e,t=!0){yo.disabled=t},headerLocked:function(e){Zt.headerFormLocked=!0,Zt.editDisabled=!0},headerUnlocked:function(e){Zt.headerFormLocked=!1,Zt.editDisabled=!1},init:Bo,openSelectedData:async function(e,t){let o=$fgta5.Modal.createMask();try{const o=t.keyvalue,n=await $o(e,o);if(Zt.currentOpenedId=o,!Zt.headerFormLocked){const t=a["userGroupEdit_isEditDisabled"];if("function"==typeof t){const o=t(e,n);Zt.editDisabled=o}}Io(e,{disabled:!0}),Eo.setData(n),Eo.acceptChanges(),Eo.lock();const i=a["userGroupEdit_formOpened"];"function"==typeof i&&i(e,Eo,Zt)}catch(e){throw Zt.currentOpenedId=null,e}finally{o.close(),o=null}}});const Ro=o.Crsl,xo=o.Sections.userFavouriteList,No=Ro.Items[xo],Fo={},Ao=new $fgta5.Gridview("userFavouriteList-tbl"),Do=document.getElementById("userFavouriteList-btn_addrow"),Po=new $fgta5.ActionButton("userFavouriteList-btn_delrow");let To;const Ho=No;async function Oo(e,t){No.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{const t=o.Sections.userHeaderEdit;Ro.Items[t].show({direction:1})}),Ao.addEventListener("nextdata",async t=>{!async function(e,t){const o=t.detail.criteria,n=t.detail.limit,a=t.detail.nextoffset,i=t.detail.sort;await Vo(e,{criteria:o,limit:n,offset:a,sort:i}),Ao.scrollToFooter()}(e,t)}),Ao.addEventListener("sorting",async t=>{!async function(e,t){Ao.clear();const o=t.detail.sort,n=t.detail.Criteria;Vo(e,{criteria:n,sort:o})}(e,t)});const n=a.favouriteList_addTableEvents;"function"==typeof n&&n(e,Ao),Module.isMobileDevice()?Ao.addEventListener("cellclick",async t=>{Ko(e,t)}):Ao.addEventListener("celldblclick",async t=>{Ko(e,t)}),Po.addEventListener("click",e=>{!async function(){const e=Ao.getSelected();if(0==e.length)return;if("ok"!=await $fgta5.MessageBox.confirm(`Apakah anda yakin akan menghappus ${e.length} data yang dipilih?`))return;let t=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/favourite-delete-rows`;try{const e=await Module.apiCall(n,{data:t});if(e.deleted)return!0;throw new Error(e.message)}catch(e){throw e}}(0,e)&&Ao.removeSelected()}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{t.close(),t=null}}()});const i=a.userFavouriteList_init;"function"==typeof i&&i(e),Fo.headerFormLocked=!0}function Go(e,t){const o=Fo.SelectedRow;o.previousElementSibling?t.disablePrevButton(e,!1):t.disablePrevButton(e,!0),o.nextElementSibling?t.disableNextButton(e,!1):t.disableNextButton(e,!0)}function Uo(e,t){Fo.SelectedRow=t}async function jo(e,t){const o=t.getAttribute("keyvalue"),n=t.getAttribute("key"),a=e.Modules.userFavouriteEdit;a.clearForm(e,"loading...");try{Uo(0,t),Fo.SelectedRow.keyValue=o,Fo.SelectedRow.key=n,await a.openSelectedData(e,{key:n,keyvalue:o})}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message),Uo(0,null),No.show()}Go(e,a)}async function Ko(e,t){const o=t.detail.tr;e.Modules.userFavouriteEdit.Section.show({},t=>{jo(e,o)})}async function Vo(e,t={}){const{criteria:n={},limit:a=0,offset:i=0,sort:s={}}=t;let r=$fgta5.Modal.createMask();try{const e=await async function(e,t,n,a,i){const s=`/${o.moduleName}/favourite-list`;try{const e=[];return await Module.apiCall(s,{columns:e,criteria:t,offset:n,limit:a,sort:i})}catch(e){throw e}}(0,n,i,a,s);0===i&&Ao.clear(),Ao.addRows(e.data),Ao.setNext(e.nextoffset,e.limit)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{r.close(),r=null}}var zo=Object.freeze({__proto__:null,Section:Ho,addNewRow:function(e,t){Uo(e,Ao.addRow(t))},getCurrentRow:function(e){return Fo.SelectedRow},headerLocked:function(e){Fo.headerFormLocked=!0},headerUnlocked:function(e){Fo.headerFormLocked=!1},init:Oo,openList:async function(e,t){const o=t.moduleHeaderEdit;To=o.getHeaderForm();const n=To.getPrimaryInput().value,i=a.userFavouriteList_openList;"function"==typeof i&&i(e,To);const s={user_id:n},r=Ao.getSort();Ao.clear(),Vo(e,{criteria:s,sort:r}),Fo.headerFormLocked?(Do.setAttribute("disabled",""),Po.disabled=!0):(Do.removeAttribute("disabled"),Po.disabled=!1)},removeCurrentRow:function(e){Fo.SelectedRow.remove()},selectNextRow:function(e){const t=Fo.SelectedRow;t.nextElementSibling&&jo(e,t.nextElementSibling)},selectPreviousRow:function(e){const t=Fo.SelectedRow;t.previousElementSibling&&jo(e,t.previousElementSibling)},setPagingButton:Go,updateCurrentRow:function(e,t){const o=Fo.SelectedRow;try{Ao.updateRow(o,t)}catch(e){throw e}}});const Wo={},qo=o.Crsl,Jo=o.Sections.userFavouriteEdit,Qo=qo.Items[Jo],Xo=o.Source,Yo="New User",Zo="View User",en="Edit User",tn="Edit",on="Lock",nn=new $fgta5.ActionButton("userFavouriteEdit-btn_edit"),an=new $fgta5.ActionButton("userFavouriteEdit-btn_save"),sn=new $fgta5.ActionButton("userFavouriteEdit-btn_new","userFavourite-addrow"),rn=new $fgta5.ActionButton("userFavouriteEdit-btn_delete","userFavourite-delrow"),dn=new $fgta5.ActionButton("userFavouriteEdit-btn_reset"),cn=new $fgta5.ActionButton("userFavouriteEdit-btn_prev"),ln=new $fgta5.ActionButton("userFavouriteEdit-btn_next"),un=document.getElementById("userFavourite-btn_recordstatus"),fn=document.getElementById("userFavourite-btn_logs"),gn=new $fgta5.Form("userFavouriteEdit-frm");gn.Inputs["userFavouriteEdit-obj_userfavouriteprogram_id"];const wn=gn.Inputs["userFavouriteEdit-obj_program_id"];gn.Inputs["userFavouriteEdit-obj_user_id"];const yn=document.getElementById("fRecord-section-createby"),mn=document.getElementById("fRecord-section-createdate"),pn=document.getElementById("fRecord-section-modifyby"),bn=document.getElementById("fRecord-section-modifydate"),En=Qo;async function Ln(t,n){Qo.addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{!async function(){let e=!1;if(gn.isChanged()){"ok"==await $fgta5.MessageBox.confirm(Module.BACK_CONFIRM)&&(gn.reset(),e=!0)}else e=!0;if(e){gn.lock();const e=o.Sections.userFavouriteList;qo.Items[e].show({direction:1})}}()}),gn.addEventListener("locked",e=>{!async function(){Qo.Title=Zo,nn.setText(tn),nn.disabled=!1,an.disabled=!0,sn.disabled=!1,rn.disabled=!0,dn.disabled=!0,cn.disabled=!1,ln.disabled=!1,Wo.editDisabled&&(nn.disabled=!0,sn.disabled=!0)}()}),gn.addEventListener("unlocked",e=>{!async function(){gn.isNew()?Qo.Title=Yo:Qo.Title=en;nn.setText(on),nn.disabled=!1,an.disabled=!1,sn.disabled=!0,rn.disabled=!1,dn.disabled=!1,cn.disabled=!0,ln.disabled=!0}()}),gn.render(),nn.addEventListener("click",e=>{!async function(){if(gn.isLocked())gn.lock(!1);else{if(gn.isChanged()||gn.isNew())return void await $fgta5.MessageBox.warning(Module.EDIT_WARNING);gn.lock(!0)}}()}),an.addEventListener("click",e=>{!async function(e){if(!gn.validate()){const e=gn.getLastError();return void $fgta5.MessageBox.warning(e)}let t;const n=gn.isNew();if(n)t=gn.getData();else{if(!gn.isChanged())return;t=gn.getDataChanged()}const i=a.userFavouriteEdit_dataSaving;"function"==typeof i&&await i(e,t,gn);let s=$fgta5.Modal.createMask();try{let i;i=n?await async function(e,t){const n=`/${o.moduleName}/favourite-create`;try{return await Module.apiCall(n,{data:t,source:Xo})}catch(e){throw e}}(0,t):await async function(e,t){const n=`/${o.moduleName}/favourite-update`;try{return await Module.apiCall(n,{data:t,source:Xo})}catch(e){throw e}}(0,t);const s=gn.getPrimaryInput(),r=i[s.getBindingData()],d=await hn(e,r);Wo.currentOpenedId=r,gn.AutoID?s.value=r:Mn(e,{disabled:!0}),gn.setData(d);const c=a["userFavouriteEdit_dataSaved"];"function"==typeof c&&await c(e,d,gn),gn.acceptChanges(),n?(nn.disabled=!1,e.Modules.userFavouriteList.addNewRow(e,d)):e.Modules.userFavouriteList.updateCurrentRow(e,d)}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{s.close(),s=null}}(t)}),sn.addEventListener("click",e=>{!async function(e,t){const o=t.target.getAttribute("data-sectionsource"),n=e.Modules.userFavouriteList,i=n.Section.Id,s=o===i;if(s)Qo.setSectionReturn(n.Section),await Qo.show();else{let e=!1;if(gn.isChanged()){"cancel"==await $fgta5.MessageBox.confirm(Module.NEWDATA_CONFIRM)&&(e=!0)}if(e)return}gn.AutoID?Mn(e,{disabled:!0,placeholder:"[AutoID]"}):Mn(e,{disabled:!1,placeholder:"ID"});try{const t=e.Modules.userHeaderEdit,o=t.getHeaderForm().getPrimaryInput();let n={user_id:o.value};const i=a["userFavouriteEdit_newData"];"function"==typeof i&&await i(e,n,gn),await vn(e,n),gn.lock(!1),nn.disabled=!0,rn.disabled=!0}catch(t){console.error(t),await $fgta5.MessageBox.error(t.message),s&&e.Modules.userFavouriteList.Section.show()}}(t,e)}),rn.addEventListener("click",e=>{!async function(e){if(gn.isNew())return;const t=gn.getPrimaryInput().value;if("ok"!=await $fgta5.MessageBox.confirm(Module.DELETE_CONFIRM+`id: ${t}`))return;let n=$fgta5.Modal.createMask();try{await async function(e,t){const n=`/${o.moduleName}/favourite-delete`;try{return await Module.apiCall(n,{id:t,source:Xo})}catch(e){throw e}}(0,t);e.Modules.userFavouriteList.removeCurrentRow(e),e.Modules.userFavouriteList.Section.show(),gn.lock()}catch(e){console.error(e),await $fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}}(t)}),dn.addEventListener("click",e=>{!async function(){if(gn.isNew())vn();else if(gn.isChanged()){if("ok"!=await $fgta5.MessageBox.confirm(Module.RESET_CONFIRM))return;gn.reset()}}()}),cn.addEventListener("click",e=>{!async function(e){e.Modules.userFavouriteList.selectPreviousRow(e)}(t)}),ln.addEventListener("click",e=>{!async function(e){e.Modules.userFavouriteList.selectNextRow(e)}(t)}),un.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:Qo};e.openSection(t,"fRecord-section",n,async()=>{let e=$fgta5.Modal.createMask();try{const e=gn.getPrimaryInput().value,o=await hn(t,e);yn.innerHTML=o._createby,mn.innerHTML=o._createdate,pn.innerHTML=o._modifyby,bn.innerHTML=o._modifydate;const n=a["userFavouriteEdit_addRecordInfo"];"function"==typeof n&&await n(o)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{e.close(),e=null}})}(t)}),fn.addEventListener("click",n=>{!async function(t){const n={Context:o,sectionReturn:Qo};e.openSection(t,"fLogs-section",n,async()=>{const t=gn.getPrimaryInput().value;let n=$fgta5.Modal.createMask();try{const n=`${o.appsUrls.core.url}/logs/list`,a={module:o.moduleName,table:"core.userfavouriteprogram",id:t},i=await Module.apiCall(n,{criteria:a}),s=document.getElementById("fLogs-section").querySelector("tbody");e.renderLog(s,i.data)}catch(e){console.error(e),$fgta5.MessageBox.error(e.message)}finally{n.close(),n=null}})}(t)}),Wo.headerFormLocked=!0,Wo.editDisabled=!1,wn.addEventListener("selecting",async e=>{if("function"==typeof fn_obj_program_id_selecting)fn_obj_program_id_selecting(t,wn,e);else{const i=e.detail.sender,s=e.detail.dialog,r=null!=e.detail.searchtext?e.detail.searchtext:"",d=`${o.appsUrls.core.url}/program/header-list`,c={searchtext:r},l=a["obj_program_id_selecting_criteria"];"function"==typeof fn_selecting_criteria&&l(t,wn,c),i.wait();try{const t=await Module.apiCall(d,{criteria:c,offset:e.detail.offset,limit:e.detail.limit});for(var n of t.data)e.detail.addRow(n.program_id,n.program_name,n);s.setNext(t.nextoffset,t.limit)}catch(e){$fgta5.MessageBox.error(e.message)}finally{i.wait(!1)}}})}async function vn(e,t){try{gn.newData(t),gn.acceptChanges(),gn.setAsNewData()}catch(e){throw e}}async function hn(e,t){const n=`/${o.moduleName}/favourite-open`;try{return await Module.apiCall(n,{id:t})}catch(e){throw e}}async function Mn(e,t){const o=gn.getPrimaryInput();o.disabled=!0===t.disabled,void 0!==t.placeholder&&(o.placeholder=t.placeholder),void 0!==t.value&&(o.value=t.value)}var _n=Object.freeze({__proto__:null,Section:En,clearForm:function(e,t){gn.clear(t)},disableNextButton:function(e,t=!0){ln.disabled=t},disablePrevButton:function(e,t=!0){cn.disabled=t},headerLocked:function(e){Wo.headerFormLocked=!0,Wo.editDisabled=!0},headerUnlocked:function(e){Wo.headerFormLocked=!1,Wo.editDisabled=!1},init:Ln,openSelectedData:async function(e,t){let o=$fgta5.Modal.createMask();try{const o=t.keyvalue,n=await hn(e,o);if(Wo.currentOpenedId=o,!Wo.headerFormLocked){const t=a["userFavouriteEdit_isEditDisabled"];if("function"==typeof t){const o=t(e,n);Wo.editDisabled=o}}Mn(e,{disabled:!0}),gn.setData(n),gn.acceptChanges(),gn.lock();const i=a["userFavouriteEdit_formOpened"];"function"==typeof i&&i(e,gn,Wo)}catch(e){throw Wo.currentOpenedId=null,e}finally{o.close(),o=null}}});const kn=o.app,Bn=o.Crsl;class Sn extends Module{constructor(){super()}async main(e={}){kn.setTitle("User"),kn.showFooter(!0),e.autoLoadGridData=!0;const t=this;t.Modules={userHeaderList:v,userHeaderEdit:Y,userLoginList:we,userLoginEdit:Ke,userPropList:st,userPropEdit:Dt,userGroupList:Yt,userGroupEdit:Co,userFavouriteList:zo,userFavouriteEdit:_n};try{try{const e=await Module.apiCall(`/${o.moduleName}/init`,{});o.notifierId=e.notifierId,o.notifierSocket=e.notifierSocket,o.userId=e.userId,o.userFullname=e.userFullname,o.sid=e.sid,o.appsUrls=e.appsUrls}catch(e){throw e}await Promise.all([w(t,e),q(t),de(t),Oe(t),et(t),xt(t),zt(t),Bo(t),Oo(t),Ln(t),n(t)]),await async function(e){try{const t=document.getElementsByClassName("footer-buttons-container");Module.renderFooterButtons(t),Bn.addEventListener($fgta5.SectionCarousell.EVT_SECTIONSHOWING,e=>{var o=e.detail.commingSection.Id;for(let e of t){e.getAttribute("data-section")==o?setTimeout(()=>{e.classList.remove("hidden"),e.style.animation="dropped 0.3s forwards",setTimeout(()=>{e.style.animation="unset"},300)},500):e.classList.add("hidden")}}),Bn.Items["fRecord-section"].addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{e.detail.fn_ShowNextSection()}),Bn.Items["fLogs-section"].addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{e.detail.fn_ShowNextSection()}),Bn.Items["fAbout-section"].addEventListener($fgta5.Section.EVT_BACKBUTTONCLICK,async e=>{e.detail.fn_ShowNextSection()});document.getElementById("panel-detil-selector").querySelectorAll(".panel-detil-row a").forEach(t=>{t.addEventListener("mouseenter",()=>{t.closest(".panel-detil-row").classList.add("panel-detil-row-highligted")}),t.addEventListener("mouseleave",()=>{t.closest(".panel-detil-row").classList.remove("panel-detil-row-highligted")});const n=t.getAttribute("data-target-section"),a=t.getAttribute("data-current-section");t.addEventListener("click",t=>{!function(e,t,n){const a=o.Sections[n],i=Bn.Items[a],s=o.Sections[t],r=Bn.Items[s];r.setSectionReturn(i),r.show({},()=>{const o=e.Modules[t],a=e.Modules[n];o.openList(e,{moduleHeaderEdit:a})})}(e,n,a)})});const n=a["extendPage"];"function"==typeof n&&n(e)}catch(e){throw e}}(t)}catch(e){throw e}}}export{Sn as default};
